<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OptiQ Research Initiative</title>

  <meta name="description" content="OptiQ Research Initiative — Quantum Computing, Quantum Machine Learning, Numerical Optimization, Noisy Optimization, Variational Quantum Algorithms." />

  <link rel="stylesheet" href="/style.css" />
  <script defer src="/site.js"></script>

  <style>
    /* Home-only layout helpers (kept minimal; uses global tokens) */

    .home-top{
      display: grid;
      grid-template-columns: 1.15fr 0.85fr;
      gap: 14px;
      margin-top: 18px;
      align-items: stretch;
    }
    @media (max-width: 900px){
      .home-top{ grid-template-columns: 1fr; }
    }

    .hero{
      margin: 0;
    }

    /* Image slot */
    .hero-media{
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-strong, var(--border));
      background: var(--surface);
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      overflow: hidden;
      display: grid;
      grid-template-rows: 1fr auto;
      min-height: 240px;
    }
    .hero-media .img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      background: rgba(255,255,255,0.06);
    }
    .hero-media .caption{
      padding: 12px 14px;
      color: var(--muted);
      font-size: 13px;
      border-top: 1px solid var(--border);
    }

    /* Explore tiles */
    .tiles{
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
      margin-top: 14px;
    }
    .tile{
      grid-column: span 4;
      padding: 18px;
      border-radius: var(--radius-lg);
      background: var(--surface);
      border: 1px solid var(--border-strong, var(--border));
      text-decoration: none;
      transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
      display: grid;
      gap: 8px;
    }
    .tile:hover{
      transform: translateY(-1px);
      text-decoration: none;
      border-color: rgba(47,59,214,0.80);
      background: var(--surface-2, var(--surface));
    }
    .tile .k{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      letter-spacing: 0.4px;
      text-transform: uppercase;
    }
    .tile .t{
      color: var(--text);
      font-weight: 800;
      font-size: 16px;
      line-height: 1.2;
    }
    .tile .d{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
    }
    @media (max-width: 900px){
      .tile{ grid-column: span 6; }
    }
    @media (max-width: 640px){
      .tile{ grid-column: span 12; }
    }

    /* Stats strip */
    .stats{
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
      margin-top: 14px;
    }
    .stat{
      grid-column: span 4;
      padding: 16px 18px;
      border-radius: var(--radius-lg);
      background: var(--surface);
      border: 1px solid var(--border-strong, var(--border));
      display: grid;
      gap: 6px;
    }
    .stat .n{
      font-size: 26px;
      font-weight: 900;
      letter-spacing: 0.2px;
      line-height: 1.1;
    }
    .stat .l{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.4;
    }
    @media (max-width: 900px){
      .stat{ grid-column: span 6; }
    }
    @media (max-width: 640px){
      .stat{ grid-column: span 12; }
    }

    /* Latest + highlights */
    .split{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 900px){
      .split{ grid-template-columns: 1fr; }
    }

    .mini{
      color: var(--muted);
      margin-top: 6px;
      line-height: 1.55;
      font-size: 14px;
    }

    .empty-state{
      color: var(--muted);
      border: 1px dashed var(--border);
      border-radius: var(--radius-md);
      padding: 12px 12px;
      margin-top: 10px;
    }

    .latest{
      display: grid;
      gap: 10px;
      margin-top: 10px;
    }
    .latest-item{
      padding: 14px;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: var(--surface-2, var(--surface));
    }
    .latest-item strong{
      display: block;
      margin-bottom: 6px;
    }
    .latest-meta{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.45;
    }
    .latest-links{
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .latest-links a{
      display: inline-flex;
      align-items: center;
      padding: 8px 12px;
      border-radius: var(--radius-pill);
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      text-decoration: none;
    }
    .latest-links a:hover{
      text-decoration: none;
      border-color: rgba(47,59,214,0.70);
    }

    /* Small “callout” line */
    .callout{
      margin-top: 14px;
      padding: 14px 16px;
      border-radius: var(--radius-lg);
      background: var(--surface);
      border: 1px solid var(--border-strong, var(--border));
      color: var(--muted);
      line-height: 1.55;
      font-size: 13px;
    }
  </style>
</head>

<body>
  <main class="container">

    <!-- Top: airy hero + image slot -->
    <section class="home-top">
      <section class="hero">
        <div class="kicker">OptiQ Research Initiative</div>
        <h1>Quantum Computing and Optimization</h1>
        <p>
          OptiQ focuses on <strong>Quantum Computing</strong>, <strong>Quantum Machine Learning</strong>,
          <strong>Numerical Optimization</strong>, <strong>Noisy Optimization</strong>, and
          <strong>Variational Quantum Algorithms</strong>.
        </p>

        <div class="callout">
          Tip: place a one-sentence mission here once you finalize it (kept intentionally neutral until provided).
        </div>
      </section>

      <aside class="hero-media" aria-label="Hero image">
        <!-- Put your image at /assets/hero.jpg (or .png) -->
        <img class="img" src="/assets/hero.jpg" alt="OptiQ visual" onerror="this.style.display='none'; this.parentElement.querySelector('.caption').textContent='Add /assets/hero.jpg (or update the src) to show a hero image.';" />
        <div class="caption">Replace with your image: <code>/assets/hero.png</code></div>
      </aside>
    </section>

    <!-- Explore tiles -->
    <section class="tiles" aria-label="Explore sections">
      <a class="tile" href="/research.html">
        <div class="k">Explore</div>
        <div class="t">Research</div>
        <div class="d">Topics, directions, and technical scope.</div>
      </a>

      <a class="tile" href="/publications.html">
        <div class="k">Explore</div>
        <div class="t">Publications</div>
        <div class="d">Papers and preprints (auto-generated from JSON).</div>
      </a>

      <a class="tile" href="/software.html">
        <div class="k">Explore</div>
        <div class="t">Software</div>
        <div class="d">Tools, repositories, and documentation.</div>
      </a>

      <a class="tile" href="/team.html">
        <div class="k">Explore</div>
        <div class="t">Team</div>
        <div class="d">Members with individual profile pages.</div>
      </a>

      <a class="tile" href="/news.html">
        <div class="k">Explore</div>
        <div class="t">News</div>
        <div class="d">Updates and announcements.</div>
      </a>

      <a class="tile" href="/publications.html#how-to-cite">
        <div class="k">Quick link</div>
        <div class="t">How to cite</div>
        <div class="d">Citation guidance and record maintenance.</div>
      </a>
    </section>

    <!-- Counters (computed from data files) -->
    <section class="stats" aria-label="At-a-glance statistics">
      <div class="stat">
        <div class="n" id="statPubs">—</div>
        <div class="l">Publications</div>
      </div>
      <div class="stat">
        <div class="n" id="statPreprints">—</div>
        <div class="l">Preprints (arXiv / Preprints)</div>
      </div>
      <div class="stat">
        <div class="n" id="statSoftware">—</div>
        <div class="l">Software projects</div>
      </div>
    </section>

    <!-- Highlights + Latest publication -->
    <section class="split">
      <section class="section">
        <h2>Highlights</h2>
        <div class="mini">
          Add or remove highlight blocks as needed. This area is intentionally manual (no invented items).
        </div>

        <div class="empty-state">
          Add highlight entries here (e.g., a new preprint, a software release, a workshop talk).
        </div>
      </section>

      <section class="section">
        <h2>Latest publication</h2>
        <div class="mini">
          Automatically selected as the newest item in <code>/data/publications.json</code> (by <code>date</code>, then <code>year</code>).
        </div>

        <div id="latestPub" class="latest">
          <div class="latest-item">
            <strong>Loading…</strong>
            <div class="latest-meta">If this stays visible, ensure <code>/data/publications.json</code> exists.</div>
            <div class="latest-links">
              <a href="/publications.html">Open Publications</a>
            </div>
          </div>
        </div>
      </section>
    </section>

  </main>

  <footer>
    <div class="container">
      © <span id="y"></span> OptiQ Research Initiative
    </div>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    function escapeHtml(s){
      return String(s ?? "").replace(/[&<>"']/g, c => ({
        "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"
      }[c]));
    }
    function escapeAttr(s){
      return String(s ?? "").replace(/"/g, "&quot;");
    }
    function parseSortableDate(p){
      if (p.date && /^\d{4}-\d{2}-\d{2}$/.test(p.date)) return p.date;
      if (p.year && /^\d{4}$/.test(String(p.year))) return String(p.year) + "-01-01";
      return "0000-01-01";
    }

    // Latest publication + publication counters
    (function publicationsWidgets(){
      const latestTarget = document.getElementById("latestPub");
      const statPubs = document.getElementById("statPubs");
      const statPreprints = document.getElementById("statPreprints");

      fetch("/data/publications.json", { cache: "no-store" })
        .then(r => {
          if (!r.ok) throw new Error("Missing publications.json");
          return r.json();
        })
        .then(items => {
          if (!Array.isArray(items)) items = [];
          const total = items.length;

          const preprints = items.filter(p => {
            const v = String(p.venue || "").toLowerCase();
            return v.includes("arxiv") || v.includes("preprints");
          }).length;

          if (statPubs) statPubs.textContent = String(total);
          if (statPreprints) statPreprints.textContent = String(preprints);

          if (!latestTarget) return;
          if (items.length === 0) throw new Error("Empty publications list");

          const sorted = items.slice().sort((a,b) => parseSortableDate(b).localeCompare(parseSortableDate(a)));
          const p = sorted[0];

          const title = p.title || "Untitled";
          const authors = p.authors || "";
          const venue = p.venue || "";
          const date = p.date || (p.year ? String(p.year) : "");
          const links = [];

          if (p.url) links.push({ label: "Link", url: p.url });
          if (p.pdf) links.push({ label: "PDF", url: p.pdf });
          if (p.code) links.push({ label: "Code", url: p.code });
          links.push({ label: "All publications", url: "/publications.html" });

          latestTarget.innerHTML = `
            <div class="latest-item">
              <strong>${escapeHtml(title)}</strong>
              <div class="latest-meta">${escapeHtml([authors, venue, date].filter(Boolean).join(" • "))}</div>
              <div class="latest-links">
                ${links.map(l => `<a href="${escapeAttr(l.url)}">${escapeHtml(l.label)}</a>`).join("")}
              </div>
            </div>
          `;
        })
        .catch(() => {
          if (statPubs) statPubs.textContent = "—";
          if (statPreprints) statPreprints.textContent = "—";
          if (latestTarget) {
            latestTarget.innerHTML = `
              <div class="latest-item">
                <strong>Latest publication unavailable</strong>
                <div class="latest-meta">Create <code>/data/publications.json</code> to enable this section.</div>
                <div class="latest-links">
                  <a href="/publications.html">Open Publications</a>
                </div>
              </div>
            `;
          }
        });
    })();

    // Software counter (from /data/software.json)
    (function softwareCounter(){
      const statSoftware = document.getElementById("statSoftware");
      fetch("/data/software.json", { cache: "no-store" })
        .then(r => {
          if (!r.ok) throw new Error("Missing software.json");
          return r.json();
        })
        .then(items => {
          if (!Array.isArray(items)) items = [];
          if (statSoftware) statSoftware.textContent = String(items.length);
        })
        .catch(() => {
          if (statSoftware) statSoftware.textContent = "—";
        });
    })();
  </script>
</body>
</html>
